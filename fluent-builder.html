<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-02-25 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150225" />
    <meta http-equiv="Content-Language" content="en" />
    <title>jaxb2-rich-contract-plugin - fluent-builder</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>JAXB XJC extended contract generation plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-02-25
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.5.3-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Getting Started</li>
                              
      <li>
  
                          <a href="index.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                
      <li>
  
                          <a href="getting.html" title="Download">
          <i class="none"></i>
        Download</a>
            </li>
                
      <li>
  
                          <a href="history.html" title="Version History">
          <i class="none"></i>
        Version History</a>
            </li>
                
      <li>
  
                          <a href="usage.html" title="Usage">
          <i class="none"></i>
        Usage</a>
            </li>
                              <li class="nav-header">XJC Plugin Options</li>
                              
      <li class="active">
  
            <a href="#"><i class="none"></i>fluent-builder</a>
          </li>
                
      <li>
  
                          <a href="group-contract.html" title="group-contract">
          <i class="none"></i>
        group-contract</a>
            </li>
                
      <li>
  
                          <a href="clone.html" title="clone">
          <i class="none"></i>
        clone</a>
            </li>
                
      <li>
  
                          <a href="copy.html" title="copy">
          <i class="none"></i>
        copy</a>
            </li>
                
      <li>
  
                          <a href="constrained-properties.html" title="constrained-properties">
          <i class="none"></i>
        constrained-properties</a>
            </li>
                
      <li>
  
                          <a href="meta.html" title="meta">
          <i class="none"></i>
        meta</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                    
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>fluent-builder<a name="fluent-builder"></a></h2>
<div class="section">
<h3>Motivation<a name="Motivation"></a></h3>
<p>There already is the widely used &#x201c;fluent-api&#x201d; plugin for XJC. That, however isn&#x2019;t a real builder pattern since there is no strict programmatic distinction between initialization and state change in fluent-api.</p>
<p>fluent-builder now creates a real &#x201c;Builder&#x201d; pattern, implemented as an inner class to the generated classes.</p></div>
<div class="section">
<h3>Function<a name="Function"></a></h3>
<p>fluent-builder creates a static inner class for every generated class representing the builder, and a static method on the generated class to create a builder.</p>
<p>If the &#x201c;immutable&#x201d; plugin is also activated, publicly exposed collections will be immutable, too.</p>
<p>Example use in code:</p>

<div class="source">
<pre>    MyElement newElement = MyElement.builder().withPropertyA(...).withPropertyB(...).addCollectionPropertyA(...).build();
</pre></div>
<p>In addition, new instances can be created as copies of existing instances using the builder, with an optional modification by other builder methods:</p>

<div class="source">
<pre>    MyElement newElement = MyElement.copyOf(oldElement).withPropertyA(...).withPropertyB(...).build();
</pre></div>
<p>The &#x201c;partial&#x201d; copy introduced in the &#x201c;clone&#x201d; plugin will work here as well:</p>

<div class="source">
<pre>    PropertyTree selection = MyElement.Select.root().propertyA().propertyAB().build();
    MyElement newElement = MyElement.copyExcept(oldElement, selection).withPropertyA(...).withPropertyB(...).build();
</pre></div>
<p>Often, properties of generated classes represent containment or references to generated classes in the same model. The fluent-builder plugin lets you initialise properties of such a type - if it isn&#x2019;t an abstract type - by using sub-builders (&#x201c;chained&#x201d; builders) in the following way, given that both A and B are types defined in the XSD model, and A has a property of type B, and B has three properties of type String, x,y, and z:</p>

<div class="source">
<pre>    A newA = A.builder().withB().withX(&quot;x&quot;).withY(&quot;y&quot;).withZ(&quot;z&quot;).end().build();
</pre></div>
<p>Of course, this plugin is most useful if <tt>immutable</tt> is also activated.</p></div>
<div class="section">
<h3>Limitations<a name="Limitations"></a></h3>

<ul>
  
<li>It generates a large amount of code.</li>
  
<li>Note: Shared builder instances are NOT thread-safe by themselves.</li>
</ul></div>
<div class="section">
<h3>Usage<a name="Usage"></a></h3>
<div class="section">
<h4>-Xfluent-builder<a name="a-Xfluent-builder"></a></h4></div>
<div class="section">
<h4>Options<a name="Options"></a></h4>
<div class="section">
<h5>-generateTools=<tt>{y|n}</tt> (y)<a name="a-generateToolsyn_y"></a></h5>
<p>Generate utility classes as static source code artifacts. If no, the plugin JAR must be in compile- and runtime classpath.</p></div>
<div class="section">
<h5>-narrow=<tt>{y|n}</tt> (n)<a name="a-narrowyn_n"></a></h5>
<p>Uses copy constructors for all child nodes in the object tree as long as they are available. This will cause the new instance to be as narrow as possible to the declared types. Abstract types and types not generated from this XSD-modle will always be copied by their &#x201c;clone()&#x201d;-method.</p></div>
<div class="section">
<h5>-copyPartial=<tt>{y|n}</tt> (y)<a name="a-copyPartialyn_y"></a></h5>
<p>Generates an additional &#x2018;copyOf&#x2019;-method that takes a PropertyTree instance to restrict the copy operation to selected nodes in the object tree.</p></div>
<div class="section">
<h5>-selectorClassName=<tt>&lt;string&gt;</tt> (Selector)<a name="a-selectorClassNamestring_Selector"></a></h5>
<p>Name of the generated nested &#x201c;Selector&#x201d; builder class, used to build up a property tree for partial copy functionality. This setting will only have an effect if the &#x201c;deep-copy-plugin&#x201d; isn&#x2019;t also active. If it is, the &#x201c;copy&#x201d; plugin&#x2019;s settings will take precedence.</p></div>
<div class="section">
<h5>-rootSelectorClassName=<tt>&lt;string&gt;</tt> (Select)<a name="a-rootSelectorClassNamestring_Select"></a></h5>
<p>Name of the generated nested static &#x201c;Select&#x201d; entry point class to be used by client code for the &#x201c;partial copy&#x201d; feature. This setting will only have an effect if the &#x201c;deep-copy-plugin&#x201d; isn&#x2019;t also active. If it is, the &#x201c;copy&#x201d; plugin&#x2019;s settings will take precedence.</p></div>
<div class="section">
<h5>-builderClassName=<tt>&lt;string&gt;</tt> (Builder)<a name="a-builderClassNamestring_Builder"></a></h5>
<p>Name of the generated nested builder class. Can be set to handle naming conflicts.</p></div>
<div class="section">
<h5>-newBuilderMethodName=<tt>&lt;string&gt;</tt> (builder)<a name="a-newBuilderMethodNamestring_builder"></a></h5>
<p>Name of the generated static method to instantiate a new fluent builder. Can be set to handle naming conflicts.</p></div></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                   2015.
          All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
