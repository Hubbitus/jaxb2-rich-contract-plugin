<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src/site/markdown/immutable.md at 2018-08-30
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20180830" />
    <meta http-equiv="Content-Language" content="en" />
    <title>jaxb2-rich-contract-plugin &#x2013; immutable</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>JAXB XJC extended contract generation plugin</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2018-08-30<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.0.0-SNAPSHOT</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Getting Started</li>
    <li><a href="index.html" title="Overview"><span class="none"></span>Overview</a></li>
    <li><a href="getting.html" title="Download"><span class="none"></span>Download</a></li>
    <li><a href="history.html" title="Version History"><span class="none"></span>Version History</a></li>
    <li><a href="usage.html" title="Usage"><span class="none"></span>Usage</a></li>
      <li class="nav-header">XJC Plugin Options</li>
    <li><a href="fluent-builder.html" title="fluent-builder"><span class="none"></span>fluent-builder</a></li>
    <li><a href="group-contract.html" title="group-contract"><span class="none"></span>group-contract</a></li>
    <li class="active"><a href="#"><span class="none"></span>immutable</a></li>
    <li><a href="modifier.html" title="modifier"><span class="none"></span>modifier</a></li>
    <li><a href="clone.html" title="clone"><span class="none"></span>clone</a></li>
    <li><a href="copy.html" title="copy"><span class="none"></span>copy</a></li>
    <li><a href="constrained-properties.html" title="constrained-properties"><span class="none"></span>constrained-properties</a></li>
    <li><a href="meta.html" title="meta"><span class="none"></span>meta</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
</ul>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<div class="section">
<h2><a name="immutable"></a>immutable</h2>
<div class="section">
<h3><a name="Motivation"></a>Motivation</h3>
<p>Generally it is advisable to make your business classes immutable as much as possible, to minimise side effects and allow for functional programming patterns.</p></div>
<div class="section">
<h3><a name="Function"></a>Function</h3>
<p>This plugin simply makes all &#x201c;setXXX&#x201d; methods &#x201c;protected&#x201d;, thus preventing API consumers to modify state of instances of generated classes after they have been created. This only makes sense together with another plugin that allows for initialization of the instances, like e.g. the included <tt>fluent-builder</tt> plugin. For collection-valued properties, <tt>-Ximmutable</tt> wraps all collections in a <tt>Collections.unmodifiableCollection</tt>, so collections are also made immutable. Because JAXB serialization has a number of constraints regarding the internals of JAXB serializable objects, it wasn&#x2019;t advisable to just remove the setter methods or replace the collections with unmodifiable collections. So, a bit of additional code will be created that leaves the old &#x201c;mutable&#x201d; structure of the class intact as much as is needed for JAXB, but modifies the public interface so objects appear immutable to client code.</p></div>
<div class="section">
<h3><a name="Limitations"></a>Limitations</h3>
<ul>

<li>Access level &#x201c;protected&#x201d; may not be strict enough to prevent state changes.</li>
<li>If you activate plugins like &#x201c;fluent-api&#x201d; or the like, these plugins may circumvent the protection provided by the <tt>immutable</tt> plugin.</li>
</ul></div>
<div class="section">
<h3><a name="Usage"></a>Usage</h3>
<div class="section">
<h4><a name="a-Ximmutable"></a>-Ximmutable</h4></div>
<div class="section">
<h4><a name="Options"></a>Options</h4>
<div class="section">
<h5><a name="a-fake.3D.7By.7Cn.7D_.28n.29"></a>-fake=<tt>{y|n}</tt> (n)</h5>
<p>Do not actually make anything immutable. For test and debug purpose only.</p></div>
<div class="section">
<h5><a name="a-overrideCollectionClass.3D.3Cstring.3E_.28null.29"></a>-overrideCollectionClass=<tt>&lt;string&gt;</tt> (null)</h5>
<p>Modify collection getters to be declared to return a custom type implementing java.lang.Iterable instead of List.</p></div>
<div class="section">
<h5><a name="a-constructorAccess.3D.3Cstring.3E_.28public.29"></a>-constructorAccess=<tt>&lt;string&gt;</tt> (public)</h5>
<p>Generate constructors of an immutable class with the specified access level (&#x201c;public&#x201d;, &#x201c;private&#x201d;, &#x201c;protected&#x201d;, &#x201c;default&#x201d;). By specification, JAXB needs a public no-arg constructor for marshalling and unmarshalling objects to an from XML. It turns out, however, that many implementations support protected constructors as well. This option has been included since it doesn&#x2019;t make sense to construct an empty object which then cannot be modified, But anyway, use with caution.</p></div></div></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2018.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
