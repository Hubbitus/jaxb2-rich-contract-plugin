<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src/site/markdown/group-contract.md at 2018-08-30
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20180830" />
    <meta http-equiv="Content-Language" content="en" />
    <title>jaxb2-rich-contract-plugin &#x2013; group-contract</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>JAXB XJC extended contract generation plugin</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2018-08-30<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.0.0-SNAPSHOT</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Getting Started</li>
    <li><a href="index.html" title="Overview"><span class="none"></span>Overview</a></li>
    <li><a href="getting.html" title="Download"><span class="none"></span>Download</a></li>
    <li><a href="history.html" title="Version History"><span class="none"></span>Version History</a></li>
    <li><a href="usage.html" title="Usage"><span class="none"></span>Usage</a></li>
      <li class="nav-header">XJC Plugin Options</li>
    <li><a href="fluent-builder.html" title="fluent-builder"><span class="none"></span>fluent-builder</a></li>
    <li class="active"><a href="#"><span class="none"></span>group-contract</a></li>
    <li><a href="immutable.html" title="immutable"><span class="none"></span>immutable</a></li>
    <li><a href="modifier.html" title="modifier"><span class="none"></span>modifier</a></li>
    <li><a href="clone.html" title="clone"><span class="none"></span>clone</a></li>
    <li><a href="copy.html" title="copy"><span class="none"></span>copy</a></li>
    <li><a href="constrained-properties.html" title="constrained-properties"><span class="none"></span>constrained-properties</a></li>
    <li><a href="meta.html" title="meta"><span class="none"></span>meta</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
</ul>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<div class="section">
<h2><a name="group-contract"></a>group-contract</h2>
<div class="section">
<h3><a name="Motivation"></a>Motivation</h3>
<p>In most object-oriented programming languages, there are constructs to define a &#x201c;contract&#x201d;, that concrete implementations of complex types will implement. In Java, for example, there is the <tt>interface</tt>, in Scala there are &#x201c;traits&#x201d;, and so on. The XML Schema Definition Language (XSD) in contrast, has no explicit construct to ensure a complex type meets a pre-defined contract. There are, however, the <tt>group</tt> and <tt>attributeGroup</tt> elements, that could be considered a way to achieve just that: A complexType that uses a <tt>&lt;group&gt;</tt> or an <tt>&lt;attributeGroup&gt;</tt> will expose the properties defined in these group definitions. Looking at it that way, you could say that the <tt>complexType</tt> &#x201c;implements&#x201d; the contract defined by the <tt>group</tt> or <tt>attributeGroup</tt>.</p></div>
<div class="section">
<h3><a name="Function"></a>Function</h3>
<p>The group-contract plugin now tries to model that case in the generated source code. For every <tt>group</tt>and <tt>attributeGroup</tt> definition in the XSD model (or in any upstream XSD model that is included via the &#x201c;episode&#x201d; mechanism, for that matter), it generates an <tt>interface</tt> definition with all the getter, and optionally setter, methods of the properties defined via the <tt>group</tt> or <tt>attributeGroup</tt> definition.</p>
<p>Then, it declares every class that was generated from a <tt>complexType</tt> that uses the <tt>group</tt> or <tt>attributeGroup</tt> as implementing just that interface. This way, all classes generated from XSD complexTypes that use the same group definitions, will share a common contract and can be treated in a common way by client code.</p>
<p>If the &#x201c;fluent-builder&#x201d; plugin is also activated, the interface definition can optionally include the declarations of the &#x201c;with&#x2026;&#x201d; and &#x201c;add&#x2026;&#x201d; methods of the generated builder class as a nested interface declaration, so you can even rely on a common &#x201c;builder&#x201d; contract for classes using the same <tt>group</tt> and <tt>attributeGroup</tt> definitions.</p>
<p>For example, you may wish to add &#x201c;XLink&#x201d; functionality to your generated classes. If the group-contract plugin is activated, you can define a complexType in XSD that supports the &#x201c;simple&#x201d; attributes by adding to its XSD definition:</p>

<div>
<div>
<pre class="source">&lt;complexType name=&quot;some-type&quot;&gt;
	.... (model group of the type...)
	&lt;attributeGroup ref=&quot;xlink:simpleAttrs&quot;/&gt;
&lt;/complexType&gt;
</pre></div></div>

<p>Which will generate a class something like:</p>

<div>
<div>
<pre class="source">public class SomeType implements SimpleAttrs {
...
</pre></div></div>

<p>And an interface definition like:</p>

<div>
<div>
<pre class="source">public interface SimpleAttrs {
	String getHref();
	void setHref(final String value);
	// ... more properties ...

	// this part is generated only if fluent-builder is also active
	interface BuildSupport&lt;TParentBuilder &gt;{
            public SimpleAttrs.BuildSupport&lt;TParentBuilder&gt; withHref(final String href);
            //... more properties ...
	}
}
</pre></div></div>

<p>Similar effects could be achieved by subclassing complexTypes, but since there is no multiple inheritance, inheritance hierarchies can get overly complex this way, and inheritance is less flexible than interface implementations.</p>
<p><b>Note:</b> The group-contract plugin supports JAXB modular compilation, i.e. the &#x201c;episode&#x201d; mechanism implemented in the JAXB reference impplementation. However, due to the lack of extensibility of the current default episode data structures and processing, this plugin has to manage its own &#x201c;episode&#x201d; file. There are two command line options to control the  names of the &#x201c;upstream&#x201d; episode file, i.e. the file name the plugin should look for when using other modules, and the &#x201c;downstream&#x201d; file, i.e. the file name that should be generated for use by other modules.</p></div>
<div class="section">
<h3><a name="Usage"></a>Usage</h3>
<div class="section">
<h4><a name="a-Xgroup-contract"></a>-Xgroup-contract</h4></div>
<div class="section">
<h4><a name="Options"></a>Options</h4>
<div class="section">
<h5><a name="a-declareSetters.3D.7By.7Cn.7D_.28y.29"></a>-declareSetters=<tt>{y|n}</tt> (y)</h5>
<p>Also generate property setter methods in interface declarations.</p></div>
<div class="section">
<h5><a name="a-declareBuilderInterface.3D.7By.7Cn.7D_.28y.29"></a>-declareBuilderInterface=<tt>{y|n}</tt> (y)</h5>
<p>If the &#x201c;fluent builder plugin&#x201d; (-Xfluent-builder) is also active, generate interface for the internal builder classes as well.</p></div>
<div class="section">
<h5><a name="a-supportInterfaceNameSuffix.3D.3Cstring.3E_.28Lifecycle.29"></a>-supportInterfaceNameSuffix=<tt>&lt;string&gt;</tt> (Lifecycle)</h5>
<p>If this is set, methods that could cause type conflicts when two generated interfaces are used together as type parameter bounds, will be put in another interface named the same as the original interface, but with the suffix specified here.</p></div>
<div class="section">
<h5><a name="a-upstreamEpisodeFile.3D.3Cstring.3E_.28META-INF.2Fjaxb-interfaces.episode.29"></a>-upstreamEpisodeFile=<tt>&lt;string&gt;</tt> (META-INF/jaxb-interfaces.episode)</h5>
<p>Use the given resource file to obtain information about interfaces defined in an upstream module (refer to &#x201c;-episode&#x201d; option of XJC).</p></div>
<div class="section">
<h5><a name="a-downstreamEpisodeFile.3D.3Cstring.3E_.28.2FMETA-INF.2Fjaxb-interfaces.episode.29"></a>-downstreamEpisodeFile=<tt>&lt;string&gt;</tt> (/META-INF/jaxb-interfaces.episode)</h5>
<p>Generate &#x201c;episode&#x201d; file for downstream modules in the given resource location.</p></div></div></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2018.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
